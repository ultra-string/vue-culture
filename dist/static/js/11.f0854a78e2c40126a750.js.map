{"version":3,"sources":["webpack:///src/containers/SerchText.vue","webpack:///./src/containers/SerchText.vue?cf26","webpack:///./src/containers/SerchText.vue"],"names":["SerchText","query","loadFn","_this","this","str","type","note","then","res","data","_this2","page","id","pageNo","list","CmNewsList","cm_news_list","CmChangePage","cm_change_page","containers_SerchText","render","_vm","_h","$createElement","_c","_self","staticClass","resData","length","attrs","hasDate","newsList","hasDashBorder","_v","_s","pageNum","on","changePageFn","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"kIAqBAA,QAEA,0CAGA,8EAQAC,WACAC,8DAIAD,oCAEAC,sCAKA,IAAAC,EAAAC,mBACAH,mCACAI,4BACAC,mCAEA,WACA,cACAC,YACAD,OAJAE,KAAA,SAAAC,eAMAA,eACAC,iCAKA,IAAAC,EAAAP,OAEAQ,kDAIAC,UACAC,WAHA,KACAN,KAAA,SAAAC,eAKAA,eACAC,uBACAK,qBAMAC,WAAAC,EAAA,EAEAC,aAAAC,EAAA,IC/EAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAlB,KAAamB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAAyBL,EAAAM,QAAAb,MAAAO,EAAAM,QAAAb,KAAAc,OAAAJ,EAAA,gBAAuHK,OAAOC,SAAA,EAAAC,SAAAV,EAAAM,QAAAb,KAAAkB,eAAA,KAA9HR,EAAA,MAAAH,EAAAY,GAAA,OAAAZ,EAAAa,GAAAb,EAAAf,MAAA,UAA+Le,EAAAY,GAAA,KAAAT,EAAA,kBAAmCK,OAAOM,QAAAd,EAAAM,QAAAQ,QAAA1B,KAAAY,EAAAM,SAAiDS,IAAKC,aAAAhB,EAAAgB,iBAAiC,IAElbC,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACA1C,EACAoB,GATA,EAVA,SAAAuB,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/11.f0854a78e2c40126a750.js","sourcesContent":["<template>\r\n    <div class=\"serch-text\">\r\n        <!-- 我是搜索 -->\r\n        <h5 v-if=\"!resData.list || !resData.list.length\">未找到与{{note}}相关信息</h5>\r\n        <cm-news-list\r\n            :hasDate=\"true\"\r\n            :newsList=\"resData.list\"\r\n            :hasDashBorder=\"true\"\r\n            v-else\r\n        ></cm-news-list>\r\n        <cm-change-page\r\n            :pageNum=\"resData.pageNum\"\r\n            :data=\"resData\"\r\n            @changePageFn=\"changePageFn\"\r\n        ></cm-change-page>\r\n    </div>\r\n</template>\r\n<script>\r\nimport CmNewsList from '@/components/cm-news-list';\r\nimport CmChangePage from '@/components/cm-change-page';\r\n\r\nexport default {\r\n    name : 'SerchText',\r\n    data(){\r\n        return{\r\n            params : '',\r\n            resData : {},\r\n            curType : '',//搜索类别\r\n            note : '',//搜索关键字\r\n        }\r\n    },\r\n    created(){\r\n        this.params = this.$route.query;\r\n        \r\n        this.loadFn();\r\n    },\r\n    watch: {  \r\n        '$route' (to, from) {  \r\n            console.log(this.$route.query) \r\n            if(to.fullPath != from.fullPath){\r\n                this.loadFn();\r\n            } \r\n        }  \r\n    }, \r\n    methods : {\r\n        loadFn : function(){\r\n            let params = this.$route.query;\r\n            this.note = this.$route.params.str;\r\n            console.log('curType' , params.type)\r\n            this.$post('/search' , {\r\n                \"pageNo\": 1,\r\n                \"pageSize\": 10,\r\n                \"param\": this.note,\r\n                \"type\": params.type\r\n            }).then(res => {\r\n                console.log(res)\r\n                this.resData = res.data;\r\n                //test\r\n                // this.resData.list = [];\r\n            })\r\n        },\r\n        changePageFn : function(page){\r\n            //pageNo:第几页\r\n            let pageNo = page;\r\n            //pageSize:一页几条数据\r\n            let pageSize = 10;\r\n            this.$post('/commentSearch', {\r\n            \"bodyId\": this.params.id,\r\n            \"pageNo\": pageNo,\r\n            \"pageSize\": pageSize\r\n            }).then(res => {\r\n            console.log(res);\r\n                this.resData = res.data;\r\n                this.dataList = res.data.list;\r\n                // console.log(this.dataList)\r\n            })\r\n        }\r\n    },\r\n    components : {\r\n        CmNewsList,\r\n        CmChangePage\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.serch-text{\r\n    width : 1000px;\r\n    min-width :1000px;\r\n    margin : 30px auto 20px;\r\n    h5{\r\n        text-align : center;\r\n        font-size : 30px;\r\n        margin : 20px auto;\r\n    }\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/containers/SerchText.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"serch-text\"},[(!_vm.resData.list || !_vm.resData.list.length)?_c('h5',[_vm._v(\"未找到与\"+_vm._s(_vm.note)+\"相关信息\")]):_c('cm-news-list',{attrs:{\"hasDate\":true,\"newsList\":_vm.resData.list,\"hasDashBorder\":true}}),_vm._v(\" \"),_c('cm-change-page',{attrs:{\"pageNum\":_vm.resData.pageNum,\"data\":_vm.resData},on:{\"changePageFn\":_vm.changePageFn}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e36daac2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/containers/SerchText.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e36daac2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"C:\\\\\\\\Users\\\\\\\\chao\\\\\\\\Desktop\\\\\\\\guanwang\\\\\\\\os-ui\\\\\\\\src\\\\\\\\common\\\\\\\\scss\\\\\\\\index.scss\\\"}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SerchText.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SerchText.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SerchText.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e36daac2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SerchText.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e36daac2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/containers/SerchText.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}