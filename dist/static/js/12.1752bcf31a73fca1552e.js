webpackJsonp([12],{BYCL:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});s("ZQXl");var i={name:"Register",data:function(){return{mobile:"",password:"",nickname:"",smscode:"",countTime:60,beReady:!0,MSG_text:"",timer:""}},methods:{log:function(){this.mobile=this.mobile.replace(/[^\d]/g,"")},getSmsCodeFn:function(){var e=this,t=login_mobile.value;return""==this.mobile?(this.MSG_text="请输入手机号",alert(this.MSG_text),login_mobile.focus(),this.beReady=!0,void(this.timer&&clearInterval(this.timer))):/^1[3|4|5|7|8]\d{9}$/.test(t)?(console.log("dfdf"),void this.$get("/smscode?phone="+t).then(function(t){if(console.log(t),"111111"!=t.code){e.beReady=!1;var s=e;e.timer=setInterval(function(){if(0==s.countTime){s.countTime=60,s.beReady=!0;(new Date).getTime();clearInterval(s.timer)}s.countTime--,noteCode&&(noteCode.value="收到验证码("+s.countTime+")")},1e3)}else alert(t.msg)})):(login_mobile.focus(),this.MSG_text="手机号码有误",alert(this.MSG_text),this.beReady=!0,void(this.timer&&clearInterval(this.timer)))},registerFn:function(){var e=this;if(""==note.value)return this.MSG_text="请输入验证码",alert(this.MSG_text),this.beReady=!0,this.countTime=60,note.focus(),void(this.timer&&clearInterval(this.timer));password.value==passwordagin.value?(this.nickname=nickname.value,this.password=password.value,this.smscode=note.value,this.$post("/register",{nickname:this.nickname,password:this.password,phone:this.mobile,smscode:this.smscode}).then(function(t){if(console.log(t),"000000"==t.data.code)alert("注册成功"),e.$router.push({path:decodeURIComponent(e.$route.query.to)});else if("111111"==t.data.code)return void alert(t.data.msg)})):alert("两次密码不一致")}}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"register"},[s("div",{staticClass:"login-register clearfix"},[e._m(0),e._v(" "),e._m(1),e._v(" "),s("div",{staticClass:"login-register-right"},[s("h6",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],staticClass:"boll",attrs:{type:"text",placeholder:"请输入手机号",id:"login_mobile"},domProps:{value:e.mobile},on:{keyup:e.log,input:function(t){t.target.composing||(e.mobile=t.target.value)}}})]),e._v(" "),s("h6",{staticClass:"clearfix"},[s("input",{staticClass:"fl",attrs:{type:"number",placeholder:"请输入验证码",id:"note"}}),e._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:e.beReady,expression:"beReady"}],staticClass:"fr ms-code-btn",attrs:{type:"button",value:"收到验证码"},on:{click:e.getSmsCodeFn}}),e._v(" "),s("input",{directives:[{name:"show",rawName:"v-show",value:!e.beReady,expression:"!beReady"}],staticClass:"fr ms-code-btn",attrs:{type:"button",value:"收到验证码(60)",id:"noteCode"}})]),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4)])]),e._v(" "),s("div",{staticClass:"submission",on:{click:e.registerFn}},[e._v("提交")])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"register-discription"},[t("h5",{staticClass:"register-discription-top"},[this._v("使用手机号注册")]),this._v(" "),t("h5",[this._v("欢迎来到中国手艺网！请完善你的信息")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-register-left"},[s("h6",[s("span",{staticClass:"star"},[e._v("*")]),e._v("\n                手机号:\n            ")]),e._v(" "),s("h6",[s("span",{staticClass:"star"},[e._v("*")]),e._v("\n                手机验证码:\n            ")]),e._v(" "),s("h6",[s("span",{staticClass:"star"},[e._v("*")]),e._v("\n                昵称:\n            ")]),e._v(" "),s("h6",[s("span",{staticClass:"star"},[e._v("*")]),e._v("\n                密码:\n            ")]),e._v(" "),s("h6",[s("span",{staticClass:"star"},[e._v("*")]),e._v("\n                确认密码:\n            ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h6",[t("input",{staticClass:"boll",attrs:{type:"text",placeholder:"昵称",id:"nickname"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h6",[t("input",{staticClass:"boll",attrs:{type:"password",placeholder:"设定登录密码",id:"password"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h6",[t("input",{staticClass:"boll",attrs:{type:"password",placeholder:"再次登录密码",id:"passwordagin"}})])}]};var n=s("VU/8")(i,a,!1,function(e){s("GmJ0")},"data-v-cb5ed0d2",null);t.default=n.exports},GmJ0:function(e,t){}});
//# sourceMappingURL=12.1752bcf31a73fca1552e.js.map