{"version":3,"sources":["webpack:///src/components/sections/st-register.vue","webpack:///./src/components/sections/st-register.vue?154f","webpack:///./src/components/sections/st-register.vue"],"names":["st_register","_this2","this","value","MSG_text","focus","timer","res","_this","getTime","countTime","msg","_this3","nickname","password","mobile","smscode","then","to","sections_st_register","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","directives","name","rawName","expression","attrs","type","placeholder","id","domProps","on","keyup","log","input","$event","target","composing","click","getSmsCodeFn","beReady","registerFn","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.1752bcf31a73fca1552e.js","sourcesContent":["<template>\r\n    <div class=\"register\">\r\n        <div class=\"login-register clearfix\">\r\n            <div class=\"register-discription\">\r\n                <h5 class=\"register-discription-top\">使用手机号注册</h5>\r\n                <h5>欢迎来到中国手艺网！请完善你的信息</h5>\r\n            </div>\r\n            <div class=\"login-register-left\">\r\n                <h6>\r\n                    <span class=\"star\">*</span>\r\n                    手机号:\r\n                </h6>\r\n                <h6>\r\n                    <span class=\"star\">*</span>\r\n                    手机验证码:\r\n                </h6>\r\n                <h6>\r\n                    <span class=\"star\">*</span>\r\n                    昵称:\r\n                </h6>\r\n                <h6>\r\n                    <span class=\"star\">*</span>\r\n                    密码:\r\n                </h6>\r\n                <h6>\r\n                    <span class=\"star\">*</span>\r\n                    确认密码:\r\n                </h6>\r\n            </div>\r\n            <div class=\"login-register-right\">\r\n                <h6>\r\n                    <input type=\"text\" placeholder=\"请输入手机号\" @keyup=\"log\" v-model=\"mobile\" class=\"boll\" id=\"login_mobile\">\r\n                </h6>\r\n                <h6 class=\"clearfix\">\r\n                    <input type=\"number\" placeholder=\"请输入验证码\" class=\"fl\" id=\"note\">\r\n                    <input type=\"button\" value=\"收到验证码\" class=\"fr ms-code-btn\" v-show=\"beReady\" @click=\"getSmsCodeFn\">\r\n                    <input type=\"button\" value=\"收到验证码(60)\" class=\"fr ms-code-btn\" id=\"noteCode\" v-show=\"!beReady\">\r\n                </h6>\r\n                <h6>\r\n                    <input type=\"text\" placeholder=\"昵称\" id=\"nickname\" class=\"boll\">\r\n                </h6>\r\n                <h6>\r\n                    <input type=\"password\" placeholder=\"设定登录密码\" id=\"password\" class=\"boll\">\r\n                </h6>\r\n                <h6>\r\n                    <input type=\"password\" placeholder=\"再次登录密码\" id=\"passwordagin\" class=\"boll\">\r\n                </h6>\r\n            </div>\r\n        </div>\r\n        <!-- <div class=\"select\">\r\n            <p>同意</p>\r\n        </div> -->\r\n        <div class=\"submission\" @click=\"registerFn\">提交</div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Lib from '@/common/lib/lib.js'\r\nexport default {\r\n    name : 'Register',\r\n    data (){\r\n        return {\r\n            mobile : '',\r\n            password : '',\r\n            nickname : '',\r\n            smscode : '',\r\n            countTime : 60,\r\n            beReady : true,\r\n            MSG_text : '',//错误异常信息\r\n            timer : '',//定时器\r\n        }\r\n    },\r\n    methods : {\r\n        log : function(){\r\n            this.mobile = this.mobile.replace(/[^\\d]/g,'');\r\n        },\r\n        //获取短信验证码\r\n        getSmsCodeFn : function(){\r\n            let mobile = login_mobile.value;\r\n            if (this.mobile == '') {\r\n                this.MSG_text = \"请输入手机号\";\r\n                alert(this.MSG_text)\r\n\t\t\t\tlogin_mobile.focus();\r\n\t\t\t\tthis.beReady = true;\r\n\t\t\t\tthis.timer && clearInterval(this.timer);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n            if (!(/^1[3|4|5|7|8]\\d{9}$/.test(mobile))) {\r\n\t\t\t\tlogin_mobile.focus();\r\n                this.MSG_text = \"手机号码有误\";\r\n                alert(this.MSG_text)\r\n\t\t\t\tthis.beReady = true;\r\n\t\t\t\tthis.timer && clearInterval(this.timer);\r\n\t\t\t\treturn;\r\n            }\r\n            console.log('dfdf')\r\n            this.$get('/smscode?phone='+mobile).then(res => {\r\n                console.log(res)\r\n                //  验证码倒计时\r\n                if(res.code != '111111'){\r\n                    this.beReady = false;\r\n                    let _this = this;\r\n                    this.timer = setInterval(function() {\r\n                        if (_this.countTime == 0) {\r\n                            _this.countTime = 60;\r\n                            _this.beReady = true;\r\n                            let date = new Date().getTime();\r\n                            // alert('验证码已过期，请重新输入');\r\n                            clearInterval(_this.timer);\r\n                        }\r\n                        _this.countTime--;\r\n                        if(noteCode){\r\n                            noteCode.value = '收到验证码(' + _this.countTime + ')';\r\n                        }\r\n                    }, 1000);\r\n                }else{\r\n                    alert(res.msg)\r\n                }\r\n            })\r\n        },\r\n        //注册\r\n        registerFn : function(){\r\n            let safeCode = note.value;\r\n            if (safeCode == '') {\r\n                this.MSG_text = \"请输入验证码\";\r\n                alert(this.MSG_text)\r\n\t\t\t\tthis.beReady = true;\r\n\t\t\t\tthis.countTime = 60;\r\n\t\t\t\tnote.focus();\r\n\t\t\t\tthis.timer && clearInterval(this.timer);\r\n\t\t\t\treturn;\r\n            }\r\n            //两次密码不一致\r\n            if(password.value != passwordagin.value){\r\n                alert('两次密码不一致')\r\n                return;\r\n            }\r\n\r\n            this.nickname = nickname.value;\r\n            this.password = password.value;\r\n            this.smscode = note.value;\r\n\r\n\r\n            this.$post('/register' , {\r\n                \"nickname\": this.nickname,\r\n                \"password\": this.password,\r\n                \"phone\": this.mobile,\r\n                \"smscode\": this.smscode\r\n            }).then(res => {\r\n                console.log(res);\r\n                if(res.data.code == \"000000\"){\r\n                    alert('注册成功')\r\n                    this.$router.push({\r\n                        path: decodeURIComponent(this.$route.query.to),\r\n                    })\r\n                }else if(res.data.code == '111111'){\r\n                    alert(res.data.msg);\r\n                    return;\r\n                }\r\n            })\r\n        },\r\n    },\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.register{\r\n    width : 1000px;\r\n    min-width : 1000px;\r\n    margin : 0 auto;\r\n    color : $color-login-font;\r\n\r\n    .login-register-left{\r\n        width : 356px;\r\n        text-align : right;\r\n        float : left;\r\n        padding-right : 18px;\r\n\r\n        h6{\r\n            color : $color-login-font-deep;\r\n            font-size : 18px;\r\n            line-height : 38px;\r\n            margin-bottom : 30px;\r\n        }\r\n        .star{\r\n            color : $font-hot;\r\n        }\r\n    }\r\n\r\n    .login-register-right{\r\n        float : left;\r\n\r\n        h6{\r\n            height : 40px;\r\n            margin-bottom : 28px;\r\n\r\n            input{\r\n                height : 38px;\r\n                border : 1px solid $color-login-font-deep;\r\n            }\r\n\r\n            .boll{\r\n                width : 370px;\r\n            }\r\n\r\n            .ms-code-btn{\r\n                width : 156px;\r\n                text-align : center;\r\n                line-height : 38px;\r\n                color : $color-login-font-deep;\r\n            }\r\n        }\r\n    }\r\n\r\n    .login-register{\r\n        margin-top : 30px;\r\n\r\n        .register-discription{\r\n            text-align : center;\r\n            margin-bottom : 28px;\r\n            color : $color-login-font-deep;\r\n\r\n            h5{\r\n                font-size : 18px;\r\n                text-align : center;\r\n                height : 18px;\r\n                line-height : 18px;\r\n                margin-left : 110px;\r\n            }\r\n            \r\n            .register-discription-top{\r\n                margin-bottom : 34px;\r\n                text-align : center;\r\n            }\r\n        }\r\n    }\r\n\r\n    .submission{\r\n        width : 138px;\r\n        height : 32px;\r\n        border : 1px solid $color-login-font;\r\n        border-radius : 5px;\r\n        line-height : 32px;\r\n        text-align : center;\r\n        margin-left : 480px;\r\n    }\r\n    .submission:hover{\r\n        background: $font-hot;\r\n        color: #fff;\r\n        border : 1px solid rgba(0,0,0,0);\r\n    }\r\n}\r\n</style>\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/sections/st-register.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register\"},[_c('div',{staticClass:\"login-register clearfix\"},[_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"login-register-right\"},[_c('h6',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mobile),expression:\"mobile\"}],staticClass:\"boll\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入手机号\",\"id\":\"login_mobile\"},domProps:{\"value\":(_vm.mobile)},on:{\"keyup\":_vm.log,\"input\":function($event){if($event.target.composing){ return; }_vm.mobile=$event.target.value}}})]),_vm._v(\" \"),_c('h6',{staticClass:\"clearfix\"},[_c('input',{staticClass:\"fl\",attrs:{\"type\":\"number\",\"placeholder\":\"请输入验证码\",\"id\":\"note\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.beReady),expression:\"beReady\"}],staticClass:\"fr ms-code-btn\",attrs:{\"type\":\"button\",\"value\":\"收到验证码\"},on:{\"click\":_vm.getSmsCodeFn}}),_vm._v(\" \"),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.beReady),expression:\"!beReady\"}],staticClass:\"fr ms-code-btn\",attrs:{\"type\":\"button\",\"value\":\"收到验证码(60)\",\"id\":\"noteCode\"}})]),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_vm._m(4)])]),_vm._v(\" \"),_c('div',{staticClass:\"submission\",on:{\"click\":_vm.registerFn}},[_vm._v(\"提交\")])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register-discription\"},[_c('h5',{staticClass:\"register-discription-top\"},[_vm._v(\"使用手机号注册\")]),_vm._v(\" \"),_c('h5',[_vm._v(\"欢迎来到中国手艺网！请完善你的信息\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-register-left\"},[_c('h6',[_c('span',{staticClass:\"star\"},[_vm._v(\"*\")]),_vm._v(\"\\n                手机号:\\n            \")]),_vm._v(\" \"),_c('h6',[_c('span',{staticClass:\"star\"},[_vm._v(\"*\")]),_vm._v(\"\\n                手机验证码:\\n            \")]),_vm._v(\" \"),_c('h6',[_c('span',{staticClass:\"star\"},[_vm._v(\"*\")]),_vm._v(\"\\n                昵称:\\n            \")]),_vm._v(\" \"),_c('h6',[_c('span',{staticClass:\"star\"},[_vm._v(\"*\")]),_vm._v(\"\\n                密码:\\n            \")]),_vm._v(\" \"),_c('h6',[_c('span',{staticClass:\"star\"},[_vm._v(\"*\")]),_vm._v(\"\\n                确认密码:\\n            \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h6',[_c('input',{staticClass:\"boll\",attrs:{\"type\":\"text\",\"placeholder\":\"昵称\",\"id\":\"nickname\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h6',[_c('input',{staticClass:\"boll\",attrs:{\"type\":\"password\",\"placeholder\":\"设定登录密码\",\"id\":\"password\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h6',[_c('input',{staticClass:\"boll\",attrs:{\"type\":\"password\",\"placeholder\":\"再次登录密码\",\"id\":\"passwordagin\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cb5ed0d2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/sections/st-register.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cb5ed0d2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"C:\\\\\\\\Users\\\\\\\\chao\\\\\\\\Desktop\\\\\\\\guanwang\\\\\\\\os-ui\\\\\\\\src\\\\\\\\common\\\\\\\\scss\\\\\\\\index.scss\\\"}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./st-register.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./st-register.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./st-register.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cb5ed0d2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./st-register.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cb5ed0d2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/sections/st-register.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}